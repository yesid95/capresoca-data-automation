@startuml
' =========================================================================
' Objetivo del flujo:
' Este diagrama t√©cnico tiene como prop√≥sito organizar la l√≥gica del proceso de validaci√≥n para el reporte de movilidad S1 descendente al r√©gimen subsidiado.
' Busca identificar las fuentes de datos clave, los pasos del flujo, las decisiones automatizables y sus justificaciones.
' Servir√° como plano base para:
' - Comprender el punto de inicio, los criterios de validaci√≥n y su ubicaci√≥n en el flujo.
' - Entender por qu√© se valida cada condici√≥n y qu√© acci√≥n se toma seg√∫n el resultado.
' - Facilitar el desarrollo, mantenimiento y evoluci√≥n futura del c√≥digo Python asociado.
' =========================================================================

' -------------------------------------------------------------------------
' Actores involucrados:
'
' üë§ Personas:
' - Profesional de apoyo del √°rea de Aseguramiento de Capresoca EPS:
'   Encargado del reporte de movilidad descendente S1 seg√∫n Resoluci√≥n 762/2023,
'   y del mantenimiento de la base de datos del r√©gimen subsidiado.
'
' üñ•Ô∏è Sistemas:
' - Sistema interno de la EPS (no se nombra para evitar acoplamientos innecesarios).
'
' üóÇÔ∏è Fuentes de datos utilizadas:
' - Base S1 (generada por el sistema interno).
' - PILA EPS (novedades y pagos registrados por la EPS).
' - PILA 3047 (validada por ADRES, complementaria a la PILA EPS).
' - Maestros ADRES (usuarios a validar para posibles reportes).
' - Dataset SAT (inicio y fin de relaciones laborales, movilidad efectiva).
' - Dataset R1 (inicio de relaciones laborales).
' - Dataset NC (novedades contributivo).
' - Dataset ACX y ABX (m√°ximos periodos por afiliado).
' - Dataset Expediente EPS (compensaci√≥n de d√≠as, continuidad laboral).
'
' Nota: Estos actores y fuentes pueden ser modificados en fases posteriores si se detectan nuevas dependencias.
' -------------------------------------------------------------------------
' Inicio y Fin del Proceso S1:
' Inicio: El proceso inicia cuando el profesional de apoyo del √°rea de aseguramiento abre la automatizaci√≥n para preparar el reporte de movilidad S1. La automatizaci√≥n debe ejecutarse el mismo d√≠a de reporte, siguiendo el calendario de semanas de proceso definido por ADRES. Cada mes puede tener 2, 3, 4 o 5 semanas h√°biles, y el reporte S1 se radica el segundo d√≠a h√°bil de la semana de proceso (usualmente martes o mi√©rcoles si el lunes es festivo).
'
' Fin: El proceso finaliza cuando el profesional de apoyo obtiene el archivo Excel ".xlsx" con la relaci√≥n de usuarios categorizados, identificando correctamente a los afiliados que deben o no ser reportados en movilidad S1. Adem√°s, se documenta la trazabilidad de las decisiones tomadas por cada afiliado y se genera una hoja de informe/log para validar las bases de datos utilizadas y su fecha de actualizaci√≥n, facilitando la reproducibilidad y la identificaci√≥n de errores.
' -------------------------------------------------------------------------
' -------------------------------------------------------------------------

' Diagrama de Actividad para Validaci√≥n de Movilidad S1 (descendente a subsidiado)

start

' Aqu√≠ se ir√°n agregando los pasos y decisiones del proceso


stop
@enduml
